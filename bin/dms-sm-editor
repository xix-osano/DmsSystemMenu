#!/bin/bash

# Launch editor for file
# Uses $EDITOR env var or defaults to nvim

EDITOR="${EDITOR:-nvim}"

case "$EDITOR" in
  nvim|vim|nano|micro|hx|helix|vi)
    # Terminal-based editors - launch in terminal
    if command -v kitty &> /dev/null; then
      exec setsid kitty "$EDITOR" "$@"
    elif command -v alacritty &> /dev/null; then
      exec setsid alacritty -e "$EDITOR" "$@"
    elif command -v xterm &> /dev/null; then
      exec setsid xterm -e "$EDITOR" "$@"
    else
      # Fallback to direct execution
      exec setsid "$EDITOR" "$@"
    fi
    ;;
  *)
    # GUI editors or other
    exec setsid "$EDITOR" "$@"
    ;;
esac
